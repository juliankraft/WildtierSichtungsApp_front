<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Tierarten</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">animals</ion-title>
    </ion-toolbar>
  </ion-header>
 <!-- https://medium.com/swlh/angular-google-map-component-basics-and-tips-7ff679e383ff -->

  @if (step == 1){
      <ion-select (ionChange)="setAnimal($event)">
        @for(animal of animals; track animal.id) {
          <ion-select-option value="{{animal.id}}">{{animal.name}}</ion-select-option>
        }
      </ion-select>
      <ion-button (click)="step = 2">Auswahl speichern</ion-button>
  }


  @if (step == 2) {
    <ion-datetime
      displayFormat="DD.MM.YYYY HH:mm"
      pickerFormat="DD.MM.YYYY HH:mm"
      hourCycle="h23"
      [(ngModel)]="dataset.date">
    </ion-datetime>
    <ion-button (click)="setCurrentPositionAndStep()">Datum speichern</ion-button>
  }

  @if(step == 3){
    @if(googlePositionSet==true){
      <google-map [options]="googleoptions">

      <map-advanced-marker [position]="googlePosition" (position)="newPosition" #marker
                           [gmpDraggable]="true"
      (mapDragend)="onMarkerPositionChange($event)">
                           ></map-advanced-marker>
        <!--add marker -->
      </google-map>
    }
    <ion-button (click)="savePosition()">Position speichern</ion-button>
    }


</ion-content>
